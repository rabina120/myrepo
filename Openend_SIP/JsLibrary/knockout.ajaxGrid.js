!function (e, t) { t.simpleGrid = { viewModel: function (a) { var r = new Array, o = this; function n() { r = [], o.currentPageIndex() > 1 && (r.push(new page({ text: "<<", pageNumber: 0 })), r.push(new page({ text: "<", pageNumber: o.currentPageIndex() - 1 }))); var e = function () { var e = Math.floor(o.totalRecords() / o.pageSize()); return o.totalRecords() % o.pageSize() != 0 && ++e, e } (); !function (e) { if (e <= 5) { for (var t = 0; t < e; ++t) r.push({ text: t + 1, pageNumber: t }); return [] } var a = [1, 2, 3, e - 2, e - 1, e], n = d(o.currentPageIndex() + 1, 1, e, 1), s = d(o.currentPageIndex() + 1, 1, e, 1); i(a, n), i(a, o.currentPageIndex() + 1), i(a, s), a.sort(function (e, t) { return e - t }), a.forEach(function (e) { r.push({ text: e, pageNumber: e - 1 }) }) } (e), o.currentPageIndex() < e - 1 && (r.push({ text: ">", pageNumber: o.currentPageIndex() + 1 }), r.push({ text: ">>", pageNumber: e - 1 })), o.ViewablePages(r) } function i(t, a) { e.inArray(a, t) < 0 && t.push(a) } function d(e, t, a, r) { return null == e || null == e ? r : e < t ? t : e > a ? a : e } o.searchField = t.observable(), o.currentPageIndex = t.observable(0), o.pageSize = t.observable(a.pageSize || 10), o.totalPages = t.observable(0), o.url = a.url, o.method = a.method, o.loading = t.observable(!1), o.refresh = t.observable(!1), o.records = t.observableArray([]), o.totalRecords = t.observable(), o.criteria = t.observable(), o.ViewablePages = t.observableArray([]), o.goTo = t.observable(1), o.result = function (e, a) { var r = t.observable(); r.records = t.observableArray(), r.totalRecords = t.observable(), t.computed(function () { a.loading(!0), waitMsg("Loading"), waitMsg.show(), e.call(a).done(function (e) { e.TotalRecords < o.pageSize() && o.currentPageIndex(0), o.records(e.Records), o.totalRecords(e.TotalRecords), r.records(e.Records), r.totalRecords(e.TotalRecords), r(e), a.loading(!1), waitMsg.hide(), n() }) }), r.totalRecords() > 0 && n(); return r } (function () { o.refresh(); o.criteria({ pageIndex: o.currentPageIndex() + 1, pageSize: o.pageSize(), searchField: t.toJS(o.searchField) }); var a = ""; if (o.method) a = { method: o.method, args: { criteria: JSON.stringify(o.criteria())} }; else a = { criteria: JSON.stringify(o.criteria()) }; return o.refresh(!1), e.ajax(o.url, { data: a, dataType: "Json", contentType: "application/json;charset=utf-8", type: "GET" }) }, o), o.getPagedData = function () { parseInt(o.goTo()) && n() }, o.columns = a.columns || function (e) { if ("number" != typeof e.length || 0 === e.length) return []; var t = []; for (var a in e[0]) t.push({ headerText: a, rowText: a }); return t } (t.utils.unwrapObservable(o.records())), o.maxPageIndex = t.computed(function () { return Math.ceil(o.totalRecords() / o.pageSize()) - 1 }, o) } }; var a = new t.nativeTemplateEngine; a.addTemplate = function (e, t) { document.write("<script type='text/html' id='" + e + "'>" + t + "<\/script>") }, a.addTemplate("ko_simpleGrid_grid", '                    <table class="table table-bordered table-condensed table-hover table-responsive table-striped">                        <thead>                            <tr data-bind="foreach: columns">                               <th data-bind="text: headerText"></th>                            </tr>                        </thead>                        <tbody data-bind="foreach: result.records">                           <tr data-bind="foreach: $parent.columns">                               <td data-bind="text: typeof rowText == \'function\' ? rowText($parent) : $parent[rowText] "></td>                            </tr>                        </tbody>                    </table>'), a.addTemplate("ko_simpleGrid_grid_search", '    <div class="row">            <div class=" pull-right col-md-5">                            <input type="text" name="gridSearch" data-bind="value:$root.searchField" class="form-control" placeholder="Search"                                 />                        </div>                        </div>                        <div class="row">       <div class=" col-md-12 form-group">                    <table class="table table-bordered table-condensed table-hover table-responsive table-striped">                        <thead class="bg-default">                            <tr data-bind="foreach: columns">                               <th data-bind="text: headerText"></th>                            </tr>                        </thead>                        <tbody  data-bind="foreach: records">                           <tr data-bind="foreach: $parent.columns,event : { dblclick:function(){$root.selectData($data); $(\'.modal\').modal(\'hide\');} }">                               <td data-bind="text: typeof rowText == \'function\' ? rowText($parent) : $parent[rowText] "></td>                            </tr>                        </tbody>                    </table>                    </div>                    </div>                    '), a.addTemplate("ko_simpleGrid_pageLinks", "                    <div class=\"ko-grid-pageLinks\">                    <nav>                                               <ul class='pagination pagination-sm' >                        \x3c!-- ko foreach: ViewablePages --\x3e                              <li> <a class='btn btn-default btn-sm' href=\"#\" data-bind=\"text: text , click: function() { $root.currentPageIndex(pageNumber) }, css: { active: (pageNumber == $root.currentPageIndex()) }\">                            </a></li>                            \x3c!-- /ko --\x3e                            <li></li><li><span>                       showing <span data-bind='text:($root.currentPageIndex()*$root.pageSize()+1)'></span> - <span data-bind='text:(parseInt($root.currentPageIndex()*$root.pageSize())+parseInt($root.pageSize()))>$root.totalRecords()?$root.totalRecords():(parseInt($root.currentPageIndex()*$root.pageSize())+parseInt($root.pageSize()))'></span> of <span data-bind='text:$root.totalRecords()  '></span>                          </span></li></ul>                        </nav><span>Row Count &nbsp;                           <select id='page' name=\"gridSearch\" data-bind=\"value:$root.pageSize\" class=\"\" placeholder=\"Search\"                                 ><option value='5'>5</option>                                  <option value='10'>10</option>                                  <option value='25'>25</option>                                  <option value='50'>50</option>                                  <option value='100'>100</option>                        </select>&nbsp;&nbsp;&nbsp;</span                    </div>"), t.bindingHandlers.simpleGrid = { init: function () { return { controlsDescendantBindings: !0} }, update: function (e, r, o) { for (var n = r(), i = o(); e.firstChild; ) t.removeNode(e.firstChild); var d = i.simpleGridTemplate || "ko_simpleGrid_grid", s = i.simpleGridPagerTemplate || "ko_simpleGrid_pageLinks", l = !0; void 0 !== i.showPagerTemplate && (l = i.showPagerTemplate); var c = e.appendChild(document.createElement("DIV")); if (t.renderTemplate(d, n, { templateEngine: a }, c, "replaceNode"), l) { var p = e.appendChild(document.createElement("DIV")); t.renderTemplate(s, n, { templateEngine: a }, p, "replaceNode") } } } } (jQuery, ko); var page = function (e) { e = e || {}, this.pageNumber = e.pageNumber, this.text = e.text };